window.addEventListener("load",function(){const e=e=>{const t='label[for="databaseUsername"]',n=document.querySelector(t);null!==n&&("1"===e?n.parentNode.style.display="block":"2"===e&&(n.parentNode.style.display="none"))},t=e=>{const t='label[for="databasePassword"]',n=document.querySelector(t);null!==n&&("1"===e?n.textContent=n.dataset.labelforserver:"2"===e&&(n.textContent=n.dataset.labelforcloud))},n=e=>{const t="setDatabasePassword",n=document.getElementById(t);null!==n&&("1"===e?n.textContent=n.dataset.labelforserver:"2"===e&&(n.textContent=n.dataset.labelforcloud))},o=()=>{const o="driver",s=document.getElementById(o);e(s.value),t(s.value),n(s.value)},s=()=>{const e='div[data-aria="setDatabasePassword"]',t=document.querySelector(e);null!==t&&(t.style.display="block",l())},a=()=>{const e='div[data-aria="setDatabasePassword"]',t=document.querySelector(e);null!==t&&(t.style.display="none",d())},d=()=>{const e="setDatabasePassword",t=document.getElementById(e);null!==t&&(t.style.display="block")},l=()=>{const e="setDatabasePassword",t=document.getElementById(e);null!==t&&(t.style.display="none")},c=()=>{const e="databasePassword",t=document.getElementById(e);"text"===t.type?(t.type="password",r("show")):(t.type="text",r("hide"))},r=e=>{const t=document.querySelector("#hideDatabasePassword .text"),n=document.querySelector("#hideDatabasePassword .dashicons");"show"===e?(t.textContent="Show",n.className="dashicons dashicons-visibility"):(t.textContent="Hide",n.className="dashicons dashicons-hidden")},i=e=>{if(e.preventDefault(),!y)return;const t={action:"connection_test",wp_post_id:u("post"),fmpress_ajax_nonce:localize.fmpressAjaxNonce},n=new XMLHttpRequest;n.open("POST",ajaxurl);const o=[];Object.keys(t).forEach(e=>o.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e])));const s=o.join("&");n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(s),n.onload=(()=>{""!==n.response&&p(JSON.parse(n.response))}),n.onerror=(()=>{console.error(n.status),console.error(n.response)})},u=(e,t)=>{t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),o=n.exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},p=e=>{if(!e)return;let t="";for(let n=0;n<e.length;n++)t+=e[n]+"\n";window.alert(t)},y=()=>"undefined"!=typeof ajaxurl&&"undefined"!=typeof localize,m=()=>{const e=()=>{const e="setDatabasePassword",t=document.getElementById(e);null!==t&&t.addEventListener("click",s,!1)};e();const t=()=>{const e="cancelDatabasePassword",t=document.getElementById(e);null!==t&&t.addEventListener("click",a,!1)};t();const n=()=>{const e="connectionTest",t=document.getElementById(e);null!==t&&t.addEventListener("click",i,!1)};n();const d=()=>{const e="hideDatabasePassword",t=document.getElementById(e);null!==t&&t.addEventListener("click",c,!1)};d();const l=()=>{const e="driver",t=document.getElementById(e);if(null!==t){const e=t.value;t.addEventListener("change",{name:e,handleEvent:o},!1)}};l()},w=()=>{document.body.classList.contains("post-type-connect_datasource")&&(document.body.classList.contains("post-php")||document.body.classList.contains("post-new-php"))&&(m(),o())};w()},!1);